var app=app||{};!function($){app.main={setBg:function(){var t=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e="bg-"+t(1,7);$("body").addClass(e)},transmitTweet:function(t,e){var a,n,o,r,i,s,l;r=[],r.push({delay:0,text:t}),a=$("#container"),n=$("#message"),o=null,l=function(t,e,a){var n,o,r,i,s,l,u,p,c,f,h,v,d,m,y,g,w,T,k,b,M,x,_,C,E,O,Q,j,I,L,S,B;for(i={probability:.2,glitches:"=+%@*!-|/\\",blank:"",duration:30*e.length,ease:"easeInOutQuad",delay:0},n=$(t),Q=$.extend(i,a),j=function(){return Math.random()<.5?1:-1},B=function(t,e){return'<span class="'+e+'">'+t+"</span>"},y=Q.glitches,h=y.split(""),d=h.length,m=Q.probability,g=function(){var t,e,a;for(a=[],t=0,e=h.length;e>t;t++)b=h[t],a.push(B(b,"glitch"));return a}(),p=n.text(),l=p.split(""),u=l.length,c=function(){var t,e,a;for(a=[],t=0,e=l.length;e>t;t++)b=l[t],a.push(B(b,"ghost"));return a}(),L=e.split(""),S=L.length,x=function(){O=[];for(var t=0;S>=0?S>t:t>S;S>=0?t++:t--)O.push(t);return O}.apply(this).sort(this.shuffle),_=[],w=k=0,E=S;E>=0?E>k:k>E;w=E>=0?++k:--k)v=Math.floor(Math.random()*(d-1)),f=g[v],s=c[w]||Q.blank,o=Math.random()<m,r=o?f:s,_.push(r);return M={value:0},I={value:1},C={duration:Q.duration,ease:Q.ease,step:function(){var t,e,a,o;for(a=Math.floor(M.value*(S-1)),w=e=0,o=a;o>=0?o>=e:e>=o;w=o>=0?++e:--e)t=x[w],_[t]=L[t];return n.html(_.join(""))},complete:function(){return n.html(e)}},$(M).delay(Q.delay).animate(I,C)},i=function(){var t,e,a,n,i,s;for(a=n=0,i=r.length;i>n;a=++n)t=r[a],e=o.get(a),e.innerText="",s={delay:t.delay},l(e,t.text,s)},(s=function(){var t,s,l,u;for(t=s=0,l=r.length;l>s;t=++s)u=r[t],n.append("<a href='"+e+"' class='tweet' target='_blank'>");o=a.find("a"),i()})()},moreTweets:function(){$("#moreTweets").on("click",function(){console.log(9),$("a.tweet").fadeOut(function(){$(this).remove(),app.main.getTweets()})})},getTweets:function(){Tabletop.init({key:"1QYoKHp4tJErMvTkht4QVA4rf9tp9te9rwBL22N_pP08",callback:function(t,e){app.main.createTweets(t)},simpleSheet:!0})},createTweets:function(t){var e=Object.keys(t),a=t[e[e.length*Math.random()<<0]];app.main.updateMeta(a.Date,a.Retweets,a.Likes),app.main.transmitTweet(a.Tweet,a.Link)},updateMeta:function(t,e,a){$(".retweets").text(e+" RETWEETS"),$(".likes").text(a+" LIKES"),$(".date").text(t)},overlayEvents:function(){var t=$("li[data-overlayInit]"),e=$(".overlay__close");t.on("click",function(){app.main.openOverlay();var t=$(this).attr("data-overlayInit"),e=$('.overlay__items[data-overlayTarget="'+t+'"]');$(".overlay__items").not(e).removeClass("show"),e.addClass("show")}),e.on("click",function(){app.main.closeOverlay()})},openOverlay:function(){var t=$(".overlay");t.hasClass("show")||t.addClass("show")},closeOverlay:function(){var t=$(".overlay");t.hasClass("show")&&t.removeClass("show")},init:function(){app.main.getTweets(),app.main.moreTweets(),app.main.overlayEvents()}},jQuery(document).ready(function(){app.main.init()})}(jQuery);