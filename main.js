var app=app||{};!function($){app.main={setBg:function(){var t=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e="bg-"+t(1,7);$("body").addClass(e)},transmitTweet:function(t,e){var n,a,o,r,i,l,u;r=[],r.push({delay:0,text:t}),n=$("#container"),a=$("#message"),o=null,u=function(t,e,n){var a,o,r,i,l,u,s,p,c,f,h,d,m,g,v,w,y,T,b,M,k,x,Q,j,L,O,B,_,A,C,D,E;for(i={probability:.2,glitches:"=+%@*!-|/\\",blank:"",duration:30*e.length,ease:"easeInOutQuad",delay:0},a=$(t),B=$.extend(i,n),_=function(){return Math.random()<.5?1:-1},E=function(t,e){return'<span class="'+e+'">'+t+"</span>"},v=B.glitches,h=v.split(""),m=h.length,g=B.probability,w=function(){var t,e,n;for(n=[],t=0,e=h.length;e>t;t++)M=h[t],n.push(E(M,"glitch"));return n}(),p=a.text(),u=p.split(""),s=u.length,c=function(){var t,e,n;for(n=[],t=0,e=u.length;e>t;t++)M=u[t],n.push(E(M,"ghost"));return n}(),C=e.split(""),D=C.length,x=function(){O=[];for(var t=0;D>=0?D>t:t>D;D>=0?t++:t--)O.push(t);return O}.apply(this).sort(this.shuffle),Q=[],y=b=0,L=D;L>=0?L>b:b>L;y=L>=0?++b:--b)d=Math.floor(Math.random()*(m-1)),f=w[d],l=c[y]||B.blank,o=Math.random()<g,r=o?f:l,Q.push(r);return k={value:0},A={value:1},j={duration:B.duration,ease:B.ease,step:function(){var t,e,n,o;for(n=Math.floor(k.value*(D-1)),y=e=0,o=n;o>=0?o>=e:e>=o;y=o>=0?++e:--e)t=x[y],Q[t]=C[t];return a.html(Q.join(""))},complete:function(){return a.html(e)}},$(k).delay(B.delay).animate(A,j)},i=function(){var t,e,n,a,i,l;for(n=a=0,i=r.length;i>a;n=++a)t=r[n],e=o.get(n),e.innerText="",l={delay:t.delay},u(e,t.text,l)},(l=function(){var t,l,u,s;for(t=l=0,u=r.length;u>l;t=++l)s=r[t],a.append("<a href='"+e+"' class='tweet' target='_blank'>");o=n.find("a"),i()})()},moreTweets:function(){$("#moreTweets").on("click",function(){$("p.tweet").fadeOut(function(){$(this).remove(),app.main.getTweets()})})},getTweets:function(){Tabletop.init({key:"1QYoKHp4tJErMvTkht4QVA4rf9tp9te9rwBL22N_pP08",callback:function(t,e){app.main.createTweets(t)},simpleSheet:!0})},createTweets:function(t){var e=Object.keys(t),n=t[e[e.length*Math.random()<<0]];console.log(t),app.main.updateMeta(n.Date,n.Retweets,n.Likes),app.main.transmitTweet(n.Tweet,n.Link)},updateMeta:function(t,e,n){console.log(e),console.log(n),console.log(t)},init:function(){app.main.getTweets(),app.main.moreTweets()}},jQuery(document).ready(function(){app.main.init()})}(jQuery);